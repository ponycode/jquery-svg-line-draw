/*!
 jQuery svg-line-draw Plugin
 @name jquery.svg-line-draw.js
 @author Joshua Kennedy (https://github.com/jkennedy1980)
 @version 0.1.2
 @category jQuery Plugin
 @copyright (c) 2014 PonyCode Corporation (http://www.ponycode.com)
 @license Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
!function(a,b){function c(b,c,d){var f=a(b),g=f.data("svgDrawInstance");return g&&!d?g:(g=new e(b,c||{}),f.data("svgDrawInstance",g),g)}var d={totalFrames:60,fadeToImage:!1,fadeTransition:"opacity 0.3s"},e=function(){function c(b,c){this.$svgWrapper=a(b),this.options=a.extend({},d,c),this.paths=[],this.pathLengths=[],this.currentFrame=0,this.drawHandle=0,this.setup()}function e(a){var b={};return b["-webkit-transition"]=a,b["-moz-transition"]=a,b["-ms-transition"]=a,b["-o-transition"]=a,b.transition=a,b}return c.prototype.setup=function(){var a=this;if(a.options.fadeToImage){a.$img=this.$svgWrapper.find("img"),a.$svg=this.$svgWrapper.find("svg");var b=e(a.options.fadeTransition);b.opacity=0,a.$img.css(b),b.opacity=1,a.$svg.css(b)}a.preparePaths()},c.prototype.preparePaths=function(){var b=this;b.paths=b.$svgWrapper.find("svg path").each(function(){var c=a(this),d=this.getTotalLength();c.css({strokeDasharray:d+" "+d,strokeDashoffset:d}),b.pathLengths.push(d)})},c.prototype.start=function(a){var b=this;b.options.callback=a,b.draw()},c.prototype.draw=function(){var c=this,d=c.currentFrame/c.options.totalFrames;if(d>1){if(b.cancelAnimationFrame(c.drawHandle),c.options.fadeToImage){var e={};e.opacity=1,c.$img.css(e),e.opacity=0,c.$svg.css(e)}c.options.callback&&c.options.callback()}else{c.currentFrame++;var f=0;c.paths.each(function(){var b=a(this);b.css({strokeDashoffset:Math.floor(c.pathLengths[f]*(1-d))}),f++}),c.drawHandle=b.requestAnimationFrame(c.draw.bind(this))}},c}();a.fn.svgDraw=function(a){return c(this,a,!0),this},a.fn.startSvgDraw=function(a){var b=c(this);return b.start(a),this}}(jQuery,window,document);